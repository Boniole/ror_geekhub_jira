Started GET "/" for 127.0.0.1 at 2023-03-19 11:51:46 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 7 pending migrations:

20230311073948_add_references_to_comments.rb
20230311074920_add_references_to_tasks.rb
20230311094822_add_type_to_tasks.rb
20230311153803_add_details_to_user.rb
20230312105215_add_commetable_to_comments.rb
20230312111331_create_columns.rb
20230315155835_add_password_reset_columns_to_user.rb


):
  
activerecord (7.0.4.2) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.4.2) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.4.2) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.4.2) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.4.2) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.4.2) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.2) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.2) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.2) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.2) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.2) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.2) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.2) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.2) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/favicon.ico" for 127.0.0.1 at 2023-03-19 11:51:46 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 7 pending migrations:

20230311073948_add_references_to_comments.rb
20230311074920_add_references_to_tasks.rb
20230311094822_add_type_to_tasks.rb
20230311153803_add_details_to_user.rb
20230312105215_add_commetable_to_comments.rb
20230312111331_create_columns.rb
20230315155835_add_password_reset_columns_to_user.rb


):
  
activerecord (7.0.4.2) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.4.2) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.4.2) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.4.2) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.4.2) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.4.2) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.2) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.2) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.2) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.2) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.2) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.2) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.2) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.2) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddReferencesToComments (20230311073948)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.8ms)[0m  [1m[35mALTER TABLE "comments" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (4.7ms)[0m  [1m[35mALTER TABLE "comments" ADD CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311073948"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReferencesToTasks (20230311074920)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "tasks" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_user_id" ON "tasks" ("user_id")[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_4d2a9e4d7e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "tasks" ADD "project_id" bigint NOT NULL[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_project_id" ON "tasks" ("project_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_02e851e3b7"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "tasks" ADD "desk_id" bigint NOT NULL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_desk_id" ON "tasks" ("desk_id")[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_0264244f46"
FOREIGN KEY ("desk_id")
  REFERENCES "desks" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311074920"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTypeToTasks (20230311094822)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "tasks" ADD "type" integer DEFAULT 0[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311094822"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20230311153803)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311153803"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCommetableToComments (20230312105215)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "comments" ADD "commetable_type" character varying NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "comments" ADD "commetable_id" bigint NOT NULL[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commetable" ON "comments" ("commetable_type", "commetable_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230312105215"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateColumns (20230312111331)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "columns" ("id" bigserial primary key, "name" text, "columnntable_type" character varying NOT NULL, "columnntable_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_columns_on_columnntable" ON "columns" ("columnntable_type", "columnntable_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230312111331"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPasswordResetColumnsToUser (20230315155835)
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_sent_at" timestamp(6)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230315155835"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (4.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-03-19 11:52:03 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/boniole/.rvm/gems/ruby-3.1.2/gems/railties-7.0.4.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/boniole/.rvm/gems/ruby-3.1.2/gems/railties-7.0.4.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.7ms | Allocations: 478)
Completed 200 OK in 5ms (Views: 1.8ms | ActiveRecord: 0.0ms | Allocations: 3169)


Started GET "/" for 127.0.0.1 at 2023-03-19 11:52:05 +0200
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/boniole/.rvm/gems/ruby-3.1.2/gems/railties-7.0.4.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/boniole/.rvm/gems/ruby-3.1.2/gems/railties-7.0.4.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.9ms | Allocations: 281)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.0ms | Allocations: 936)


Started GET "/" for 127.0.0.1 at 2023-03-19 11:52:10 +0200
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/boniole/.rvm/gems/ruby-3.1.2/gems/railties-7.0.4.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/boniole/.rvm/gems/ruby-3.1.2/gems/railties-7.0.4.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.1ms | Allocations: 16)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 234)


Started GET "/admin" for ::1 at 2023-03-19 12:08:38 +0200
  
ActionController::RoutingError (No route matches [GET] "/admin"):
  
Started GET "/favicon.ico" for ::1 at 2023-03-19 12:08:38 +0200
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/api-docs" for ::1 at 2023-03-19 12:08:44 +0200
Started GET "/api-docs/index.html" for ::1 at 2023-03-19 12:08:44 +0200
Started GET "/api-docs/swagger-ui.css" for ::1 at 2023-03-19 12:08:44 +0200
Started GET "/api-docs/swagger-ui-bundle.js" for ::1 at 2023-03-19 12:08:44 +0200
Started GET "/api-docs/swagger-ui-standalone-preset.js" for ::1 at 2023-03-19 12:08:44 +0200
Started GET "/api-docs/v1/swagger.yaml" for ::1 at 2023-03-19 12:08:44 +0200
Started GET "/api-docs/favicon-32x32.png" for ::1 at 2023-03-19 12:08:45 +0200
Started GET "/api-docs/favicon-16x16.png" for ::1 at 2023-03-19 12:08:45 +0200
Started GET "/" for 127.0.0.1 at 2023-03-19 12:09:09 +0200
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/boniole/.rvm/gems/ruby-3.1.2/gems/railties-7.0.4.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/boniole/.rvm/gems/ruby-3.1.2/gems/railties-7.0.4.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.2ms | Allocations: 19)
Completed 200 OK in 1ms (Views: 0.6ms | Allocations: 263)


Started GET "/favicon.ico" for 127.0.0.1 at 2023-03-19 12:09:09 +0200
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/api-docs/index.html" for ::1 at 2023-03-19 12:35:22 +0200
Started GET "/api-docs/swagger-ui.css" for ::1 at 2023-03-19 12:35:22 +0200
Started GET "/api-docs/swagger-ui-bundle.js" for ::1 at 2023-03-19 12:35:22 +0200
Started GET "/api-docs/swagger-ui-standalone-preset.js" for ::1 at 2023-03-19 12:35:22 +0200
Started GET "/api-docs/v1/swagger.yaml" for ::1 at 2023-03-19 12:35:22 +0200
Started POST "/v1/users" for 127.0.0.1 at 2023-03-19 14:56:41 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/v1/users"):
  
Started POST "/v1/users" for 127.0.0.1 at 2023-03-19 14:56:54 +0200
  
ActionController::RoutingError (No route matches [POST] "/v1/users"):
  
Started POST "/api/v1/users" for 127.0.0.1 at 2023-03-19 14:57:42 +0200
Processing by Api::V1::UsersController#create as */*
  Parameters: {"name"=>"Sergio2", "password"=>"[FILTERED]", "user"=>{"name"=>"Sergio2"}}
[31mUnpermitted parameter: :user. Context: { controller: Api::V1::UsersController, action: create, request: #<ActionDispatch::Request:0x000000010f166010>, params: {"name"=>"Sergio2", "password"=>"[FILTERED]", "controller"=>"api/v1/users", "action"=>"create", "user"=>{"name"=>"Sergio2"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mUser Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
Completed 422 Unprocessable Entity in 276ms (Views: 0.2ms | ActiveRecord: 18.2ms | Allocations: 14105)


Started POST "/api/v1/users" for 127.0.0.1 at 2023-03-19 14:58:13 +0200
Processing by Api::V1::UsersController#create as */*
  Parameters: {"name"=>"Sergio2", "email"=>"mm@mail.ru", "password"=>"[FILTERED]", "user"=>{"name"=>"Sergio2", "email"=>"mm@mail.ru"}}
[31mUnpermitted parameter: :user. Context: { controller: Api::V1::UsersController, action: create, request: #<ActionDispatch::Request:0x000000010f534ac0>, params: {"name"=>"Sergio2", "email"=>"mm@mail.ru", "password"=>"[FILTERED]", "controller"=>"api/v1/users", "action"=>"create", "user"=>{"name"=>"Sergio2", "email"=>"mm@mail.ru"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mm@mail.ru"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
Completed 422 Unprocessable Entity in 254ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 2849)


Started POST "/api/v1/users" for 127.0.0.1 at 2023-03-19 14:58:24 +0200
Processing by Api::V1::UsersController#create as */*
  Parameters: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mm@mail.ru", "password"=>"[FILTERED]", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mm@mail.ru"}}
[31mUnpermitted parameter: :user. Context: { controller: Api::V1::UsersController, action: create, request: #<ActionDispatch::Request:0x000000010f58fda8>, params: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mm@mail.ru", "password"=>"[FILTERED]", "controller"=>"api/v1/users", "action"=>"create", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mm@mail.ru"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mm@mail.ru"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mUser Create (5.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "last_name", "email", "reset_password_token", "reset_password_sent_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Sergio2"], ["password_digest", "[FILTERED]"], ["created_at", "2023-03-19 12:58:25.127690"], ["updated_at", "2023-03-19 12:58:25.127690"], ["last_name", "Sergio2"], ["email", "mm@mail.ru"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"]]
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
Completed 200 OK in 275ms (Views: 0.1ms | ActiveRecord: 6.9ms | Allocations: 4955)


Started GET "/" for 127.0.0.1 at 2023-03-19 14:58:34 +0200
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/boniole/.rvm/gems/ruby-3.1.2/gems/railties-7.0.4.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/boniole/.rvm/gems/ruby-3.1.2/gems/railties-7.0.4.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.9ms | Allocations: 475)
Completed 200 OK in 7ms (Views: 2.3ms | ActiveRecord: 0.0ms | Allocations: 3094)


Started GET "/" for 127.0.0.1 at 2023-03-19 14:58:38 +0200
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/boniole/.rvm/gems/ruby-3.1.2/gems/railties-7.0.4.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/boniole/.rvm/gems/ruby-3.1.2/gems/railties-7.0.4.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 1.2ms | Allocations: 281)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms | Allocations: 926)


Started GET "/" for 127.0.0.1 at 2023-03-19 14:58:40 +0200
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/boniole/.rvm/gems/ruby-3.1.2/gems/railties-7.0.4.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/boniole/.rvm/gems/ruby-3.1.2/gems/railties-7.0.4.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.1ms | Allocations: 16)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 228)


Started POST "/api/v1/users" for 127.0.0.1 at 2023-03-19 15:11:44 +0200
Processing by Api::V1::UsersController#create as */*
  Parameters: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mm@mail.ru", "password"=>"[FILTERED]", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mm@mail.ru"}}
[31mUnpermitted parameter: :user. Context: { controller: Api::V1::UsersController, action: create, request: #<ActionDispatch::Request:0x000000010f6fe108>, params: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mm@mail.ru", "password"=>"[FILTERED]", "controller"=>"api/v1/users", "action"=>"create", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mm@mail.ru"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mm@mail.ru"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
Completed 422 Unprocessable Entity in 274ms (Views: 0.1ms | ActiveRecord: 9.4ms | Allocations: 5761)


Started POST "/api/v1/users" for 127.0.0.1 at 2023-03-19 15:11:52 +0200
Processing by Api::V1::UsersController#create as */*
  Parameters: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}}
[31mUnpermitted parameter: :user. Context: { controller: Api::V1::UsersController, action: create, request: #<ActionDispatch::Request:0x000000010f784e88>, params: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "controller"=>"api/v1/users", "action"=>"create", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mmm@mail.ru"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "last_name", "email", "reset_password_token", "reset_password_sent_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Sergio2"], ["password_digest", "[FILTERED]"], ["created_at", "2023-03-19 13:11:52.580557"], ["updated_at", "2023-03-19 13:11:52.580557"], ["last_name", "Sergio2"], ["email", "mmm@mail.ru"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"]]
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
Completed 200 OK in 268ms (Views: 0.1ms | ActiveRecord: 3.1ms | Allocations: 3136)


Started POST "/api/v1/users/1" for 127.0.0.1 at 2023-03-19 15:12:03 +0200
  
ActionController::RoutingError (No route matches [POST] "/api/v1/users/1"):
  
Started GET "/api/v1/users/1" for 127.0.0.1 at 2023-03-19 15:13:00 +0200
Processing by Api::V1::UsersController#show as */*
  Parameters: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "id"=>"1", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}}
Filter chain halted as :authorize_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 171)


Started GET "/api/v1/users/1" for 127.0.0.1 at 2023-03-19 15:13:10 +0200
Processing by Api::V1::UsersController#show as */*
  Parameters: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "id"=>"1", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:11:in `authorize_request'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:46:in `set_user'
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 1747)


Started GET "/api/v1/users" for 127.0.0.1 at 2023-03-19 15:13:15 +0200
Processing by Api::V1::UsersController#index as */*
  Parameters: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:11:in `authorize_request'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/api/v1/users_controller.rb:8:in `index'
Completed 200 OK in 10ms (Views: 3.0ms | ActiveRecord: 2.5ms | Allocations: 2002)


Started PATCH "/api/v1/users/6" for 127.0.0.1 at 2023-03-19 15:13:53 +0200
Processing by Api::V1::UsersController#update as */*
  Parameters: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "id"=>"6", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:11:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:46:in `set_user'
[31mUnpermitted parameters: :id, :user. Context: { controller: Api::V1::UsersController, action: update, request: #<ActionDispatch::Request:0x000000010c3b2f38>, params: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "controller"=>"api/v1/users", "action"=>"update", "id"=>"6", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/users_controller.rb:32:in `update'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "mmm@mail.ru"], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:32:in `update'
  [1m[36mUser Update (4.0ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-03-19 13:13:54.054700"], ["id", 6]]
  ↳ app/controllers/api/v1/users_controller.rb:32:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/users_controller.rb:32:in `update'
Completed 204 No Content in 271ms (ActiveRecord: 5.3ms | Allocations: 4247)


Started PATCH "/api/v1/users/6" for 127.0.0.1 at 2023-03-19 15:13:59 +0200
Processing by Api::V1::UsersController#update as */*
  Parameters: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "id"=>"6", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:11:in `authorize_request'
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:46:in `set_user'
[31mUnpermitted parameters: :id, :user. Context: { controller: Api::V1::UsersController, action: update, request: #<ActionDispatch::Request:0x000000010ce14710>, params: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "controller"=>"api/v1/users", "action"=>"update", "id"=>"6", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/users_controller.rb:32:in `update'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "mmm@mail.ru"], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:32:in `update'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-03-19 13:13:59.885054"], ["id", 6]]
  ↳ app/controllers/api/v1/users_controller.rb:32:in `update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/users_controller.rb:32:in `update'
Completed 204 No Content in 273ms (ActiveRecord: 3.7ms | Allocations: 3999)


Started POST "/api/v1/users/6" for 127.0.0.1 at 2023-03-19 15:14:04 +0200
  
ActionController::RoutingError (No route matches [POST] "/api/v1/users/6"):
  
Started PATCH "/api/v1/users/6" for 127.0.0.1 at 2023-03-19 15:14:48 +0200
Processing by Api::V1::UsersController#update as */*
  Parameters: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "id"=>"6", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:11:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:46:in `set_user'
[31mUnpermitted parameters: :id, :user. Context: { controller: Api::V1::UsersController, action: update, request: #<ActionDispatch::Request:0x000000010f03d0f8>, params: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "controller"=>"api/v1/users", "action"=>"update", "id"=>"6", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/users_controller.rb:32:in `update'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "mmm@mail.ru"], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:32:in `update'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "password_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["password_digest", "[FILTERED]"], ["updated_at", "2023-03-19 13:14:48.669061"], ["id", 6]]
  ↳ app/controllers/api/v1/users_controller.rb:32:in `update'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/users_controller.rb:32:in `update'
Completed 204 No Content in 264ms (ActiveRecord: 2.0ms | Allocations: 3986)


Started PATCH "/api/v1/users/6" for 127.0.0.1 at 2023-03-19 15:14:55 +0200
Processing by Api::V1::UsersController#update as */*
  Parameters: {"name"=>"Sergio444444", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "id"=>"6", "user"=>{"name"=>"Sergio444444", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:11:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:46:in `set_user'
[31mUnpermitted parameters: :id, :user. Context: { controller: Api::V1::UsersController, action: update, request: #<ActionDispatch::Request:0x000000010f114440>, params: {"name"=>"Sergio444444", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "controller"=>"api/v1/users", "action"=>"update", "id"=>"6", "user"=>{"name"=>"Sergio444444", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}} }[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/users_controller.rb:32:in `update'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "mmm@mail.ru"], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:32:in `update'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "name" = $1, "password_digest" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["name", "Sergio444444"], ["password_digest", "[FILTERED]"], ["updated_at", "2023-03-19 13:14:56.013911"], ["id", 6]]
  ↳ app/controllers/api/v1/users_controller.rb:32:in `update'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/users_controller.rb:32:in `update'
Completed 204 No Content in 278ms (ActiveRecord: 2.1ms | Allocations: 3993)


Started PATCH "/api/v1/users/5" for 127.0.0.1 at 2023-03-19 15:14:59 +0200
Processing by Api::V1::UsersController#update as */*
  Parameters: {"name"=>"Sergio444444", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "id"=>"5", "user"=>{"name"=>"Sergio444444", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:11:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:46:in `set_user'
[31mUnpermitted parameters: :id, :user. Context: { controller: Api::V1::UsersController, action: update, request: #<ActionDispatch::Request:0x000000010f17c220>, params: {"name"=>"Sergio444444", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "controller"=>"api/v1/users", "action"=>"update", "id"=>"5", "user"=>{"name"=>"Sergio444444", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/users_controller.rb:32:in `update'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "mmm@mail.ru"], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:32:in `update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/users_controller.rb:32:in `update'
Completed 422 Unprocessable Entity in 265ms (Views: 0.1ms | ActiveRecord: 1.2ms | Allocations: 3826)


Started PATCH "/api/v1/users/4" for 127.0.0.1 at 2023-03-19 15:15:04 +0200
Processing by Api::V1::UsersController#update as */*
  Parameters: {"name"=>"Sergio444444", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "id"=>"4", "user"=>{"name"=>"Sergio444444", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:11:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:46:in `set_user'
[31mUnpermitted parameters: :id, :user. Context: { controller: Api::V1::UsersController, action: update, request: #<ActionDispatch::Request:0x000000010f1ff0a8>, params: {"name"=>"Sergio444444", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "controller"=>"api/v1/users", "action"=>"update", "id"=>"4", "user"=>{"name"=>"Sergio444444", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/users_controller.rb:32:in `update'
  [1m[36mUser Exists? (3.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "mmm@mail.ru"], ["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:32:in `update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/users_controller.rb:32:in `update'
Completed 422 Unprocessable Entity in 268ms (Views: 0.1ms | ActiveRecord: 3.9ms | Allocations: 3816)


Started GET "/api/v1/users/6" for 127.0.0.1 at 2023-03-19 15:15:12 +0200
Processing by Api::V1::UsersController#show as */*
  Parameters: {"name"=>"Sergio444444", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "id"=>"6", "user"=>{"name"=>"Sergio444444", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:11:in `authorize_request'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:46:in `set_user'
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1253)


Started GET "/api/v1/projects" for 127.0.0.1 at 2023-03-19 15:16:42 +0200
  
NoMethodError (undefined method `all?' for :open:Symbol

        unless values.is_a?(Hash) || values.all?(Symbol) || values.all?(String)
                                           ^^^^^):
  
app/models/project.rb:27:in `<class:Project>'
app/models/project.rb:20:in `<main>'
Started GET "/api/v1/projects" for 127.0.0.1 at 2023-03-19 15:17:49 +0200
  
NoMethodError (undefined method `all?' for :open:Symbol

        unless values.is_a?(Hash) || values.all?(Symbol) || values.all?(String)
                                           ^^^^^):
  
app/models/project.rb:27:in `<class:Project>'
app/models/project.rb:20:in `<main>'
Started GET "/api/v1/projects" for 127.0.0.1 at 2023-03-19 15:18:14 +0200
  
NoMethodError (undefined method `all?' for :open:Symbol

        unless values.is_a?(Hash) || values.all?(Symbol) || values.all?(String)
                                           ^^^^^):
  
app/models/project.rb:27:in `<class:Project>'
app/models/project.rb:20:in `<main>'
Started GET "/api/v1/projects" for 127.0.0.1 at 2023-03-19 15:18:37 +0200
  
NoMethodError (undefined method `all?' for :open:Symbol

        unless values.is_a?(Hash) || values.all?(Symbol) || values.all?(String)
                                           ^^^^^):
  
app/models/project.rb:27:in `<class:Project>'
app/models/project.rb:20:in `<main>'
Started GET "/api/v1/projects" for 127.0.0.1 at 2023-03-19 15:18:57 +0200
  
NoMethodError (undefined method `all?' for :open:Symbol

        unless values.is_a?(Hash) || values.all?(Symbol) || values.all?(String)
                                           ^^^^^):
  
app/models/project.rb:27:in `<class:Project>'
app/models/project.rb:20:in `<main>'
Started GET "/api/v1/projects" for 127.0.0.1 at 2023-03-19 15:19:30 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
NoMethodError (undefined method `all?' for :open:Symbol

        unless values.is_a?(Hash) || values.all?(Symbol) || values.all?(String)
                                           ^^^^^):
  
app/models/project.rb:27:in `<class:Project>'
app/models/project.rb:20:in `<main>'
Started GET "/api/v1/projects" for 127.0.0.1 at 2023-03-19 15:20:54 +0200
  
NoMethodError (undefined method `all?' for :open:Symbol

        unless values.is_a?(Hash) || values.all?(Symbol) || values.all?(String)
                                           ^^^^^):
  
app/models/project.rb:27:in `<class:Project>'
app/models/project.rb:20:in `<main>'
Started GET "/api/v1/projects" for 127.0.0.1 at 2023-03-19 18:12:40 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ArgumentError (You tried to define an enum named "status" on the model "Project", but this will generate a class method "new", which is already defined by Active Record.):
  
app/models/project.rb:27:in `<class:Project>'
app/models/project.rb:20:in `<main>'
Started GET "/api/v1/projects" for 127.0.0.1 at 2023-03-19 18:13:26 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ArgumentError (You tried to define an enum named "status" on the model "Project", but this will generate a class method "new", which is already defined by Active Record.):
  
app/models/project.rb:27:in `<class:Project>'
app/models/project.rb:20:in `<main>'
Started GET "/api/v1/projects" for 127.0.0.1 at 2023-03-19 18:13:51 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ArgumentError (You tried to define an enum named "status" on the model "Project", but this will generate a class method "new", which is already defined by Active Record.):
  
app/models/project.rb:27:in `<class:Project>'
app/models/project.rb:20:in `<main>'
Started GET "/api/v1/projects" for 127.0.0.1 at 2023-03-19 18:14:27 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
NoMethodError (undefined method `all?' for 0:Integer

        unless values.is_a?(Hash) || values.all?(Symbol) || values.all?(String)
                                           ^^^^^):
  
app/models/project.rb:27:in `<class:Project>'
app/models/project.rb:20:in `<main>'
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/projects" for 127.0.0.1 at 2023-03-19 18:15:13 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
NoMethodError (undefined method `all?' for 0:Integer

        unless values.is_a?(Hash) || values.all?(Symbol) || values.all?(String)
                                           ^^^^^):
  
app/models/project.rb:27:in `<class:Project>'
app/models/project.rb:20:in `<main>'
Started GET "/api/v1/projects" for 127.0.0.1 at 2023-03-19 18:16:25 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (2.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
NoMethodError (undefined method `all?' for 0:Integer

        unless values.is_a?(Hash) || values.all?(Symbol) || values.all?(String)
                                           ^^^^^):
  
app/models/project.rb:27:in `<class:Project>'
app/models/project.rb:20:in `<main>'
Started GET "/api/v1/projects" for 127.0.0.1 at 2023-03-19 18:16:45 +0200
  
NoMethodError (undefined method `all?' for 0:Integer

        unless values.is_a?(Hash) || values.all?(Symbol) || values.all?(String)
                                           ^^^^^):
  
app/models/project.rb:27:in `<class:Project>'
app/models/project.rb:20:in `<main>'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (28.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mini_jira_development"[0m
  [1m[35m (25.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mini_jira_test"[0m
  [1m[35m (144.3ms)[0m  [1m[35mCREATE DATABASE "mini_jira_development" ENCODING = 'unicode'[0m
  [1m[35m (34.0ms)[0m  [1m[35mCREATE DATABASE "mini_jira_test" ENCODING = 'unicode'[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230309122551)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230309122551"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTasks (20230309184537)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "tasks" ("id" bigserial primary key, "title" text, "description" character varying, "priority" integer DEFAULT 0, "status" integer DEFAULT 0, "label" text, "estimate" timestamp(6), "start" date, "end" date, "assignee_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230309184537"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateComments (20230309185456)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "comments" ("id" bigserial primary key, "body" character varying, "task_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_6bd05453df"
FOREIGN KEY ("task_id")
  REFERENCES "tasks" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_comments_on_task_id" ON "comments" ("task_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230309185456"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProjects (20230310144341)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "projects" ("id" bigserial primary key, "name" character varying, "status" integer DEFAULT 0, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b872a6760a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_projects_on_user_id" ON "projects" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230310144341"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDesks (20230310150440)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "desks" ("id" bigserial primary key, "name" character varying, "project_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d692808753"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_desks_on_project_id" ON "desks" ("project_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230310150440"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReferencesToComments (20230311073948)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "comments" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "comments" ADD CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311073948"]]
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReferencesToTasks (20230311074920)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "tasks" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_user_id" ON "tasks" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_4d2a9e4d7e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "tasks" ADD "project_id" bigint NOT NULL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_project_id" ON "tasks" ("project_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_02e851e3b7"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "tasks" ADD "desk_id" bigint NOT NULL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_desk_id" ON "tasks" ("desk_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_0264244f46"
FOREIGN KEY ("desk_id")
  REFERENCES "desks" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311074920"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTypeToTasks (20230311094822)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "tasks" ADD "type" integer DEFAULT 0[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311094822"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20230311153803)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311153803"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCommetableToComments (20230312105215)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "comments" ADD "commetable_type" character varying NOT NULL[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "comments" ADD "commetable_id" bigint NOT NULL[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commetable" ON "comments" ("commetable_type", "commetable_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230312105215"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateColumns (20230312111331)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "columns" ("id" bigserial primary key, "name" text, "columnntable_type" character varying NOT NULL, "columnntable_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_columns_on_columnntable" ON "columns" ("columnntable_type", "columnntable_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230312111331"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPasswordResetColumnsToUser (20230315155835)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_sent_at" timestamp(6)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230315155835"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (3.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-03-19 16:17:22.139881"], ["updated_at", "2023-03-19 16:17:22.139881"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/projects" for 127.0.0.1 at 2023-03-19 18:17:35 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
NoMethodError (undefined method `all?' for 0:Integer

        unless values.is_a?(Hash) || values.all?(Symbol) || values.all?(String)
                                           ^^^^^):
  
app/models/project.rb:27:in `<class:Project>'
app/models/project.rb:20:in `<main>'
Started GET "/api/v1/projects" for 127.0.0.1 at 2023-03-19 18:18:48 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ProjectsController#index as */*
  Parameters: {"project"=>{"user_id"=>6, "name"=>"project", "status"=>0}}
  [1m[36mProject Load (1.0ms)[0m  [1m[34mSELECT "projects".* FROM "projects"[0m
  ↳ app/controllers/api/v1/projects_controller.rb:7:in `index'
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 1.0ms | Allocations: 3215)


Started GET "/api/v1/projects" for 127.0.0.1 at 2023-03-19 18:19:04 +0200
Processing by Api::V1::ProjectsController#index as */*
  Parameters: {"project"=>{"user_id"=>6, "name"=>"project", "status"=>0}}
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."user_id" = $1[0m  [["user_id", nil]]
  ↳ app/controllers/api/v1/projects_controller.rb:7:in `index'
Completed 200 OK in 6ms (Views: 1.9ms | ActiveRecord: 3.2ms | Allocations: 2473)


Started POST "/api/v1/users" for 127.0.0.1 at 2023-03-19 18:38:23 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#create as */*
  Parameters: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}}
[31mUnpermitted parameter: :user. Context: { controller: Api::V1::UsersController, action: create, request: #<ActionDispatch::Request:0x000000010762e5a0>, params: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "controller"=>"api/v1/users", "action"=>"create", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}} }[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mmm@mail.ru"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "last_name", "email", "reset_password_token", "reset_password_sent_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Sergio2"], ["password_digest", "[FILTERED]"], ["created_at", "2023-03-19 16:38:23.857884"], ["updated_at", "2023-03-19 16:38:23.857884"], ["last_name", "Sergio2"], ["email", "mmm@mail.ru"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"]]
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
Completed 200 OK in 266ms (Views: 0.1ms | ActiveRecord: 10.9ms | Allocations: 12344)


Started GET "/api/v1/projects" for 127.0.0.1 at 2023-03-19 18:38:48 +0200
Processing by Api::V1::ProjectsController#index as */*
  Parameters: {"project"=>{"user_id"=>6, "name"=>"project", "status"=>0}}
  [1m[36mProject Load (0.7ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."user_id" = $1[0m  [["user_id", nil]]
  ↳ app/controllers/api/v1/projects_controller.rb:7:in `index'
Completed 200 OK in 12ms (Views: 4.1ms | ActiveRecord: 3.7ms | Allocations: 2007)


Started POST "/api/v1/projects" for 127.0.0.1 at 2023-03-19 18:39:02 +0200
Processing by Api::V1::ProjectsController#create as */*
  Parameters: {"project"=>{"user_id"=>1, "name"=>"project", "status"=>0}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
  [1m[36mProject Create (2.3ms)[0m  [1m[32mINSERT INTO "projects" ("name", "status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "project"], ["status", 0], ["user_id", 1], ["created_at", "2023-03-19 16:39:02.813815"], ["updated_at", "2023-03-19 16:39:02.813815"]]
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
Completed 201 Created in 31ms (Views: 0.2ms | ActiveRecord: 6.5ms | Allocations: 9436)


Started GET "/api/v1/projects/1" for 127.0.0.1 at 2023-03-19 18:39:41 +0200
Processing by Api::V1::ProjectsController#show as */*
  Parameters: {"project"=>{"user_id"=>1, "name"=>"project", "status"=>0}, "id"=>"1"}
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/projects_controller.rb:37:in `set_project'
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 840)


Started GET "/api/v1/desks" for 127.0.0.1 at 2023-03-19 18:40:15 +0200
Processing by Api::V1::DesksController#index as */*
  Parameters: {"project"=>{"user_id"=>1, "name"=>"project", "status"=>0}, "desk"=>{}}
Completed 400 Bad Request in 1ms (ActiveRecord: 24.3ms | Allocations: 267)


  
ActionController::ParameterMissing (param is missing or the value is empty: desk):
  
app/controllers/api/v1/desks_controller.rb:45:in `desk_params'
Started GET "/api/v1/desks" for 127.0.0.1 at 2023-03-19 18:41:12 +0200
Processing by Api::V1::DesksController#index as */*
  Parameters: {"desk"=>{"project_id"=>1, "name"=>"project"}}
  [1m[36mDesk Load (0.8ms)[0m  [1m[34mSELECT "desks".* FROM "desks" WHERE "desks"."name" = $1 AND "desks"."project_id" = $2[0m  [["name", "project"], ["project_id", 1]]
  ↳ app/controllers/api/v1/desks_controller.rb:7:in `index'
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.8ms | Allocations: 1206)


Started POST "/api/v1/desks" for 127.0.0.1 at 2023-03-19 18:41:20 +0200
Processing by Api::V1::DesksController#create as */*
  Parameters: {"desk"=>{"project_id"=>1, "name"=>"project"}}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 2324)


  
NameError (uninitialized constant Api::V1::DesksController::Desc

    desk = Desc.create(desk_params)
           ^^^^):
  
app/controllers/api/v1/desks_controller.rb:15:in `create'
Started POST "/api/v1/desks" for 127.0.0.1 at 2023-03-19 18:42:03 +0200
Processing by Api::V1::DesksController#create as */*
  Parameters: {"desk"=>{"project_id"=>1, "name"=>"project"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mProject Load (0.5ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mDesk Create (1.5ms)[0m  [1m[32mINSERT INTO "desks" ("name", "project_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "project"], ["project_id", 1], ["created_at", "2023-03-19 16:42:03.165352"], ["updated_at", "2023-03-19 16:42:03.165352"]]
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
Completed 201 Created in 38ms (Views: 0.1ms | ActiveRecord: 13.5ms | Allocations: 9542)


Started PATCH "/api/v1/desks/1" for 127.0.0.1 at 2023-03-19 18:42:16 +0200
Processing by Api::V1::DesksController#update as */*
  Parameters: {"desk"=>{"project_id"=>1, "name"=>"project"}, "id"=>"1"}
  [1m[36mDesk Load (0.3ms)[0m  [1m[34mSELECT "desks".* FROM "desks" WHERE "desks"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/desks_controller.rb:37:in `set_desk'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/desks_controller.rb:26:in `update'
  [1m[36mProject Load (0.6ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/desks_controller.rb:26:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/desks_controller.rb:26:in `update'
Completed 200 OK in 10ms (Views: 0.4ms | ActiveRecord: 1.3ms | Allocations: 3094)


Started GET "/api/v1/columns" for 127.0.0.1 at 2023-03-19 18:42:50 +0200
Processing by Api::V1::ColumnsController#index as */*
  Parameters: {"desk"=>{"project_id"=>1, "name"=>"project"}, "column"=>{}}
  [1m[36mColumn Load (1.2ms)[0m  [1m[34mSELECT "columns".* FROM "columns"[0m
  ↳ app/controllers/api/v1/columns_controller.rb:6:in `index'
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 2.6ms | Allocations: 1023)


Started GET "/api/v1/columns" for 127.0.0.1 at 2023-03-19 18:43:16 +0200
Processing by Api::V1::ColumnsController#index as */*
  Parameters: {"column"=>{"desk_id"=>1, "name"=>"project"}}
  [1m[36mColumn Load (0.5ms)[0m  [1m[34mSELECT "columns".* FROM "columns"[0m
  ↳ app/controllers/api/v1/columns_controller.rb:6:in `index'
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.5ms | Allocations: 686)


Started POST "/api/v1/columns" for 127.0.0.1 at 2023-03-19 18:43:20 +0200
Processing by Api::V1::ColumnsController#create as */*
  Parameters: {"column"=>{"desk_id"=>1, "name"=>"project"}}
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 2400)


  
NameError (undefined local variable or method `column_params' for #<Api::V1::ColumnsController:0x00000000013060>

    @column = Column.new(column_params)
                         ^^^^^^^^^^^^^):
  
app/controllers/api/v1/columns_controller.rb:14:in `create'
Started POST "/api/v1/columns" for 127.0.0.1 at 2023-03-19 18:44:38 +0200
Processing by Api::V1::ColumnsController#create as */*
  Parameters: {"column"=>{"desk_id"=>1, "name"=>"project"}}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 3.2ms | Allocations: 3541)


  
ActiveModel::UnknownAttributeError (unknown attribute 'desk_id' for Column.

          raise UnknownAttributeError.new(self, k.to_s)
          ^^^^^):
  
app/controllers/api/v1/columns_controller.rb:14:in `create'
Started POST "/api/v1/columns" for 127.0.0.1 at 2023-03-19 18:45:33 +0200
Processing by Api::V1::ColumnsController#create as */*
  Parameters: {"column"=>{"desk_id"=>1, "name"=>"project"}}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 3.5ms | Allocations: 2663)


  
ActiveModel::UnknownAttributeError (unknown attribute 'desk_id' for Column.

          raise UnknownAttributeError.new(self, k.to_s)
          ^^^^^):
  
app/controllers/api/v1/columns_controller.rb:15:in `create'
Started POST "/api/v1/columns" for 127.0.0.1 at 2023-03-19 18:46:02 +0200
Processing by Api::V1::ColumnsController#create as */*
  Parameters: {"column"=>{"desk_id"=>1, "name"=>"project"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 576)


  
ActiveModel::UnknownAttributeError (unknown attribute 'desk_id' for Column.

          raise UnknownAttributeError.new(self, k.to_s)
          ^^^^^):
  
app/controllers/api/v1/columns_controller.rb:15:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/columns" for 127.0.0.1 at 2023-03-19 18:50:11 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ColumnsController#create as */*
  Parameters: {"column"=>{"columnntable_id"=>1, "name"=>"project"}}
[31mUnpermitted parameter: :columnntable_id. Context: { controller: Api::V1::ColumnsController, action: create, request: #<ActionDispatch::Request:0x000000010c2e7f40>, params: {"column"=>{"columnntable_id"=>1, "name"=>"project"}, "controller"=>"api/v1/columns", "action"=>"create"} }[0m
[31mUnpermitted parameter: :columnntable_id. Context: { controller: Api::V1::ColumnsController, action: create, request: #<ActionDispatch::Request:0x000000010c2e7f40>, params: {"column"=>{"columnntable_id"=>1, "name"=>"project"}, "controller"=>"api/v1/columns", "action"=>"create"} }[0m
Completed 422 Unprocessable Entity in 20ms (Views: 2.0ms | ActiveRecord: 9.1ms | Allocations: 9319)


Started POST "/api/v1/columns" for 127.0.0.1 at 2023-03-19 18:50:19 +0200
Processing by Api::V1::ColumnsController#create as */*
  Parameters: {"column"=>{"columnntable_id"=>0, "name"=>"project"}}
[31mUnpermitted parameter: :columnntable_id. Context: { controller: Api::V1::ColumnsController, action: create, request: #<ActionDispatch::Request:0x000000010c7a6b30>, params: {"column"=>{"columnntable_id"=>0, "name"=>"project"}, "controller"=>"api/v1/columns", "action"=>"create"} }[0m
[31mUnpermitted parameter: :columnntable_id. Context: { controller: Api::V1::ColumnsController, action: create, request: #<ActionDispatch::Request:0x000000010c7a6b30>, params: {"column"=>{"columnntable_id"=>0, "name"=>"project"}, "controller"=>"api/v1/columns", "action"=>"create"} }[0m
Completed 422 Unprocessable Entity in 4ms (Views: 2.0ms | ActiveRecord: 0.0ms | Allocations: 803)


Started POST "/api/v1/columns" for 127.0.0.1 at 2023-03-19 18:50:26 +0200
Processing by Api::V1::ColumnsController#create as */*
  Parameters: {"column"=>{"columnable_id"=>1, "name"=>"project"}}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 723)


  
ActiveModel::UnknownAttributeError (unknown attribute 'columnable_id' for Column.

          raise UnknownAttributeError.new(self, k.to_s)
          ^^^^^):
  
app/controllers/api/v1/columns_controller.rb:15:in `create'
  [1m[36mActiveRecord::SchemaMigration Pluck (2.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (44.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mini_jira_development"[0m
  [1m[35m (18.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mini_jira_test"[0m
  [1m[35m (117.2ms)[0m  [1m[35mCREATE DATABASE "mini_jira_development" ENCODING = 'unicode'[0m
  [1m[35m (39.1ms)[0m  [1m[35mCREATE DATABASE "mini_jira_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "columns" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "columns" ("id" bigserial primary key, "name" text, "columnntable_type" character varying NOT NULL, "columnntable_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_columns_on_columnntable" ON "columns" ("columnntable_type", "columnntable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "comments" ("id" bigserial primary key, "body" character varying, "task_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "commetable_type" character varying NOT NULL, "commetable_id" bigint NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commetable" ON "comments" ("commetable_type", "commetable_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_comments_on_task_id" ON "comments" ("task_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "desks" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "desks" ("id" bigserial primary key, "name" character varying, "project_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_desks_on_project_id" ON "desks" ("project_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "projects" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "projects" ("id" bigserial primary key, "name" character varying, "status" integer DEFAULT 0, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_projects_on_user_id" ON "projects" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "tasks" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "tasks" ("id" bigserial primary key, "title" text, "description" character varying, "priority" integer DEFAULT 0, "status" integer DEFAULT 0, "label" text, "estimate" timestamp(6), "start" date, "end" date, "assignee_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "project_id" bigint NOT NULL, "desk_id" bigint NOT NULL, "type" integer DEFAULT 0)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_desk_id" ON "tasks" ("desk_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_project_id" ON "tasks" ("project_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_user_id" ON "tasks" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "last_name" character varying, "email" character varying, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6))[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "comments" ADD CONSTRAINT "fk_rails_6bd05453df"
FOREIGN KEY ("task_id")
  REFERENCES "tasks" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "comments" ADD CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "desks" ADD CONSTRAINT "fk_rails_d692808753"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "projects" ADD CONSTRAINT "fk_rails_b872a6760a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_0264244f46"
FOREIGN KEY ("desk_id")
  REFERENCES "desks" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_02e851e3b7"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_4d2a9e4d7e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230315155835)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230309122551),
(20230309184537),
(20230309185456),
(20230310144341),
(20230310150440),
(20230311073948),
(20230311074920),
(20230311094822),
(20230311153803),
(20230312105215),
(20230312111331);

[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-03-19 16:52:33.112459"], ["updated_at", "2023-03-19 16:52:33.112459"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "5b538ba2db1c3aab2424fe474e2c85ec7d185d7e"], ["created_at", "2023-03-19 16:52:33.115624"], ["updated_at", "2023-03-19 16:52:33.115624"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "columns" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "columns" ("id" bigserial primary key, "name" text, "columnntable_type" character varying NOT NULL, "columnntable_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_columns_on_columnntable" ON "columns" ("columnntable_type", "columnntable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments" CASCADE[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "comments" ("id" bigserial primary key, "body" character varying, "task_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "commetable_type" character varying NOT NULL, "commetable_id" bigint NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commetable" ON "comments" ("commetable_type", "commetable_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_comments_on_task_id" ON "comments" ("task_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "desks" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "desks" ("id" bigserial primary key, "name" character varying, "project_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_desks_on_project_id" ON "desks" ("project_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "projects" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "projects" ("id" bigserial primary key, "name" character varying, "status" integer DEFAULT 0, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_projects_on_user_id" ON "projects" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "tasks" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "tasks" ("id" bigserial primary key, "title" text, "description" character varying, "priority" integer DEFAULT 0, "status" integer DEFAULT 0, "label" text, "estimate" timestamp(6), "start" date, "end" date, "assignee_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "project_id" bigint NOT NULL, "desk_id" bigint NOT NULL, "type" integer DEFAULT 0)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_desk_id" ON "tasks" ("desk_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_project_id" ON "tasks" ("project_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_user_id" ON "tasks" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "last_name" character varying, "email" character varying, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6))[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "comments" ADD CONSTRAINT "fk_rails_6bd05453df"
FOREIGN KEY ("task_id")
  REFERENCES "tasks" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "comments" ADD CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "desks" ADD CONSTRAINT "fk_rails_d692808753"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "projects" ADD CONSTRAINT "fk_rails_b872a6760a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_0264244f46"
FOREIGN KEY ("desk_id")
  REFERENCES "desks" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_02e851e3b7"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_4d2a9e4d7e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230315155835)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230309122551),
(20230309184537),
(20230309185456),
(20230310144341),
(20230310150440),
(20230311073948),
(20230311074920),
(20230311094822),
(20230311153803),
(20230312105215),
(20230312111331);

[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-03-19 16:52:33.157049"], ["updated_at", "2023-03-19 16:52:33.157049"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2023-03-19 16:52:33.159360"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "5b538ba2db1c3aab2424fe474e2c85ec7d185d7e"], ["created_at", "2023-03-19 16:52:33.161264"], ["updated_at", "2023-03-19 16:52:33.161264"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (30.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mini_jira_development"[0m
  [1m[35m (19.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mini_jira_test"[0m
  [1m[35m (49.1ms)[0m  [1m[35mCREATE DATABASE "mini_jira_development" ENCODING = 'unicode'[0m
  [1m[35m (35.0ms)[0m  [1m[35mCREATE DATABASE "mini_jira_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "columns" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "columns" ("id" bigserial primary key, "name" text, "columnntable_type" character varying NOT NULL, "columnntable_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_columns_on_columnntable" ON "columns" ("columnntable_type", "columnntable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "comments" ("id" bigserial primary key, "body" character varying, "task_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "commetable_type" character varying NOT NULL, "commetable_id" bigint NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commetable" ON "comments" ("commetable_type", "commetable_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_comments_on_task_id" ON "comments" ("task_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "desks" CASCADE[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "desks" ("id" bigserial primary key, "name" character varying, "project_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_desks_on_project_id" ON "desks" ("project_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "projects" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "projects" ("id" bigserial primary key, "name" character varying, "status" integer DEFAULT 0, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_projects_on_user_id" ON "projects" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "tasks" CASCADE[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "tasks" ("id" bigserial primary key, "title" text, "description" character varying, "priority" integer DEFAULT 0, "status" integer DEFAULT 0, "label" text, "estimate" timestamp(6), "start" date, "end" date, "assignee_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "project_id" bigint NOT NULL, "desk_id" bigint NOT NULL, "type" integer DEFAULT 0)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_desk_id" ON "tasks" ("desk_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_project_id" ON "tasks" ("project_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_user_id" ON "tasks" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "last_name" character varying, "email" character varying, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6))[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "comments" ADD CONSTRAINT "fk_rails_6bd05453df"
FOREIGN KEY ("task_id")
  REFERENCES "tasks" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "comments" ADD CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "desks" ADD CONSTRAINT "fk_rails_d692808753"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "projects" ADD CONSTRAINT "fk_rails_b872a6760a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_0264244f46"
FOREIGN KEY ("desk_id")
  REFERENCES "desks" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_02e851e3b7"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_4d2a9e4d7e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230315155835)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230309122551),
(20230309184537),
(20230309185456),
(20230310144341),
(20230310150440),
(20230311073948),
(20230311074920),
(20230311094822),
(20230311153803),
(20230312105215),
(20230312111331);

[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-03-19 16:54:46.347803"], ["updated_at", "2023-03-19 16:54:46.347803"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "5b538ba2db1c3aab2424fe474e2c85ec7d185d7e"], ["created_at", "2023-03-19 16:54:46.350990"], ["updated_at", "2023-03-19 16:54:46.350990"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "columns" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "columns" ("id" bigserial primary key, "name" text, "columnntable_type" character varying NOT NULL, "columnntable_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_columns_on_columnntable" ON "columns" ("columnntable_type", "columnntable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "comments" ("id" bigserial primary key, "body" character varying, "task_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "commetable_type" character varying NOT NULL, "commetable_id" bigint NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commetable" ON "comments" ("commetable_type", "commetable_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_comments_on_task_id" ON "comments" ("task_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "desks" CASCADE[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "desks" ("id" bigserial primary key, "name" character varying, "project_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_desks_on_project_id" ON "desks" ("project_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "projects" CASCADE[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "projects" ("id" bigserial primary key, "name" character varying, "status" integer DEFAULT 0, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_projects_on_user_id" ON "projects" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "tasks" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "tasks" ("id" bigserial primary key, "title" text, "description" character varying, "priority" integer DEFAULT 0, "status" integer DEFAULT 0, "label" text, "estimate" timestamp(6), "start" date, "end" date, "assignee_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" bigint NOT NULL, "project_id" bigint NOT NULL, "desk_id" bigint NOT NULL, "type" integer DEFAULT 0)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_desk_id" ON "tasks" ("desk_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_project_id" ON "tasks" ("project_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_user_id" ON "tasks" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "last_name" character varying, "email" character varying, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6))[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "comments" ADD CONSTRAINT "fk_rails_6bd05453df"
FOREIGN KEY ("task_id")
  REFERENCES "tasks" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "comments" ADD CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "desks" ADD CONSTRAINT "fk_rails_d692808753"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "projects" ADD CONSTRAINT "fk_rails_b872a6760a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_0264244f46"
FOREIGN KEY ("desk_id")
  REFERENCES "desks" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_02e851e3b7"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_4d2a9e4d7e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230315155835)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20230309122551),
(20230309184537),
(20230309185456),
(20230310144341),
(20230310150440),
(20230311073948),
(20230311074920),
(20230311094822),
(20230311153803),
(20230312105215),
(20230312111331);

[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-03-19 16:54:46.391265"], ["updated_at", "2023-03-19 16:54:46.391265"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2023-03-19 16:54:46.393679"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "5b538ba2db1c3aab2424fe474e2c85ec7d185d7e"], ["created_at", "2023-03-19 16:54:46.395393"], ["updated_at", "2023-03-19 16:54:46.395393"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (3.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (6.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (28.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mini_jira_development"[0m
  [1m[35m (24.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mini_jira_test"[0m
  [1m[35m (64.3ms)[0m  [1m[35mCREATE DATABASE "mini_jira_development" ENCODING = 'unicode'[0m
  [1m[35m (30.9ms)[0m  [1m[35mCREATE DATABASE "mini_jira_test" ENCODING = 'unicode'[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230309122551)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230309122551"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTasks (20230309184537)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE TABLE "tasks" ("id" bigserial primary key, "title" text, "description" character varying, "priority" integer DEFAULT 0, "status" integer DEFAULT 0, "label" text, "estimate" timestamp(6), "start" date, "end" date, "assignee_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230309184537"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateComments (20230309185456)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "comments" ("id" bigserial primary key, "body" character varying, "task_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_6bd05453df"
FOREIGN KEY ("task_id")
  REFERENCES "tasks" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_comments_on_task_id" ON "comments" ("task_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230309185456"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProjects (20230310144341)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "projects" ("id" bigserial primary key, "name" character varying, "status" integer DEFAULT 0, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b872a6760a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_projects_on_user_id" ON "projects" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230310144341"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDesks (20230310150440)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "desks" ("id" bigserial primary key, "name" character varying, "project_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d692808753"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_desks_on_project_id" ON "desks" ("project_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230310150440"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReferencesToComments (20230311073948)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "comments" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "comments" ADD CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311073948"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReferencesToTasks (20230311074920)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "tasks" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_user_id" ON "tasks" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_4d2a9e4d7e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "tasks" ADD "project_id" bigint NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_project_id" ON "tasks" ("project_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_02e851e3b7"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "tasks" ADD "desk_id" bigint NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_desk_id" ON "tasks" ("desk_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_0264244f46"
FOREIGN KEY ("desk_id")
  REFERENCES "desks" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311074920"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTypeToTasks (20230311094822)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "tasks" ADD "type" integer DEFAULT 0[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311094822"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20230311153803)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311153803"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCommentableToComments (20230312105215)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "comments" ADD "commentable_type" character varying NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "comments" ADD "commentable_id" bigint NOT NULL[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230312105215"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateColumns (20230312111331)
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "columns" ("id" bigserial primary key, "name" text, "columnable_type" character varying NOT NULL, "columnable_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_columns_on_columnable" ON "columns" ("columnable_type", "columnable_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230312111331"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPasswordResetColumnsToUser (20230315155835)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_sent_at" timestamp(6)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230315155835"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-03-19 16:55:48.300715"], ["updated_at", "2023-03-19 16:55:48.300715"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/users" for 127.0.0.1 at 2023-03-19 18:56:57 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#create as */*
  Parameters: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}}
[31mUnpermitted parameter: :user. Context: { controller: Api::V1::UsersController, action: create, request: #<ActionDispatch::Request:0x000000010e427048>, params: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "controller"=>"api/v1/users", "action"=>"create", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mUser Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mmm@mail.ru"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "last_name", "email", "reset_password_token", "reset_password_sent_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Sergio2"], ["password_digest", "[FILTERED]"], ["created_at", "2023-03-19 16:56:58.150055"], ["updated_at", "2023-03-19 16:56:58.150055"], ["last_name", "Sergio2"], ["email", "mmm@mail.ru"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"]]
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
Completed 200 OK in 262ms (Views: 0.2ms | ActiveRecord: 8.8ms | Allocations: 12336)


Started POST "/api/v1/projects" for 127.0.0.1 at 2023-03-19 18:57:11 +0200
Processing by Api::V1::ProjectsController#create as */*
  Parameters: {"project"=>{"user_id"=>1, "name"=>"project", "status"=>0}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
  [1m[36mProject Create (8.7ms)[0m  [1m[32mINSERT INTO "projects" ("name", "status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "project"], ["status", 0], ["user_id", 1], ["created_at", "2023-03-19 16:57:11.944032"], ["updated_at", "2023-03-19 16:57:11.944032"]]
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
Completed 201 Created in 22ms (Views: 0.2ms | ActiveRecord: 13.2ms | Allocations: 7895)


Started POST "/api/v1/desks" for 127.0.0.1 at 2023-03-19 18:57:22 +0200
Processing by Api::V1::DesksController#create as */*
  Parameters: {"desk"=>{"project_id"=>1, "name"=>"project"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mDesk Create (1.0ms)[0m  [1m[32mINSERT INTO "desks" ("name", "project_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "project"], ["project_id", 1], ["created_at", "2023-03-19 16:57:22.305487"], ["updated_at", "2023-03-19 16:57:22.305487"]]
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
Completed 201 Created in 19ms (Views: 0.2ms | ActiveRecord: 8.3ms | Allocations: 6336)


Started POST "/api/v1/columns" for 127.0.0.1 at 2023-03-19 18:57:36 +0200
Processing by Api::V1::ColumnsController#create as */*
  Parameters: {"column"=>{"columnable_id"=>1, "name"=>"project"}}
Completed 422 Unprocessable Entity in 10ms (Views: 2.1ms | ActiveRecord: 4.6ms | Allocations: 4685)


Started POST "/api/v1/columns" for 127.0.0.1 at 2023-03-19 18:57:46 +0200
Processing by Api::V1::ColumnsController#create as */*
  Parameters: {"column"=>{"columnable"=>1, "name"=>"project"}}
[31mUnpermitted parameter: :columnable. Context: { controller: Api::V1::ColumnsController, action: create, request: #<ActionDispatch::Request:0x000000010eb8e570>, params: {"column"=>{"columnable"=>1, "name"=>"project"}, "controller"=>"api/v1/columns", "action"=>"create"} }[0m
[31mUnpermitted parameter: :columnable. Context: { controller: Api::V1::ColumnsController, action: create, request: #<ActionDispatch::Request:0x000000010eb8e570>, params: {"column"=>{"columnable"=>1, "name"=>"project"}, "controller"=>"api/v1/columns", "action"=>"create"} }[0m
Completed 422 Unprocessable Entity in 3ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 790)


Started POST "/api/v1/columns" for 127.0.0.1 at 2023-03-19 18:58:11 +0200
Processing by Api::V1::ColumnsController#create as */*
  Parameters: {"column"=>{"columnable_id"=>1, "name"=>"project"}}
Completed 422 Unprocessable Entity in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 598)


Started POST "/api/v1/columns" for 127.0.0.1 at 2023-03-19 18:59:04 +0200
Processing by Api::V1::ColumnsController#create as */*
  Parameters: {"column"=>{"columnable_id"=>1, "name"=>"project"}}
Completed 422 Unprocessable Entity in 896840ms (Views: 0.7ms | ActiveRecord: 4.5ms | Allocations: 191750)


Started POST "/api/v1/columns" for 127.0.0.1 at 2023-03-19 19:14:51 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ColumnsController#create as */*
  Parameters: {"column"=>{"columnable_id"=>1, "name"=>"project", "columnable_type"=>"Desk"}}
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mBEGIN[0m
  ↳ (rdbg)//Users/boniole/Dev/ror_geekhub_jira/mini_jira/app/controllers/api/v1/columns_controller.rb:1:in `create'
  [1m[36mDesk Load (0.9ms)[0m  [1m[34mSELECT "desks".* FROM "desks" WHERE "desks"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ (rdbg)//Users/boniole/Dev/ror_geekhub_jira/mini_jira/app/controllers/api/v1/columns_controller.rb:1:in `create'
  [1m[36mColumn Create (2.5ms)[0m  [1m[32mINSERT INTO "columns" ("name", "columnable_type", "columnable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "project"], ["columnable_type", "Desk"], ["columnable_id", 1], ["created_at", "2023-03-19 17:15:08.325717"], ["updated_at", "2023-03-19 17:15:08.325717"]]
  ↳ (rdbg)//Users/boniole/Dev/ror_geekhub_jira/mini_jira/app/controllers/api/v1/columns_controller.rb:1:in `create'
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ (rdbg)//Users/boniole/Dev/ror_geekhub_jira/mini_jira/app/controllers/api/v1/columns_controller.rb:1:in `create'
Completed 200 OK in 23326ms (Views: 0.3ms | ActiveRecord: 36.4ms | Allocations: 179684)


Started GET "/api/v1/columns/1" for 127.0.0.1 at 2023-03-19 19:15:37 +0200
Processing by Api::V1::ColumnsController#show as */*
  Parameters: {"column"=>{"columnable_id"=>1, "name"=>"project", "columnable_type"=>"Desk"}, "id"=>"1"}
  [1m[36mColumn Load (0.3ms)[0m  [1m[34mSELECT "columns".* FROM "columns" WHERE "columns"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/columns_controller.rb:38:in `set_column'
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 6.6ms | Allocations: 3152)


Started POST "/api/v1/columns" for 127.0.0.1 at 2023-03-19 21:14:10 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ColumnsController#create as */*
  Parameters: {"column"=>{"columnable_id"=>1, "name"=>"project"}}
Completed 422 Unprocessable Entity in 18ms (Views: 2.2ms | ActiveRecord: 7.9ms | Allocations: 9049)


Started POST "/api/v1/columns" for 127.0.0.1 at 2023-03-19 21:14:29 +0200
Processing by Api::V1::ColumnsController#create as */*
  Parameters: {"column"=>{"columnable_id"=>1, "name"=>"project", "columnable_type"=>"Desk"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/columns_controller.rb:16:in `create'
  [1m[36mDesk Load (0.5ms)[0m  [1m[34mSELECT "desks".* FROM "desks" WHERE "desks"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/columns_controller.rb:16:in `create'
  [1m[36mColumn Create (0.7ms)[0m  [1m[32mINSERT INTO "columns" ("name", "columnable_type", "columnable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "project"], ["columnable_type", "Desk"], ["columnable_id", 1], ["created_at", "2023-03-19 19:14:30.040360"], ["updated_at", "2023-03-19 19:14:30.040360"]]
  ↳ app/controllers/api/v1/columns_controller.rb:16:in `create'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/columns_controller.rb:16:in `create'
Completed 200 OK in 50ms (Views: 0.2ms | ActiveRecord: 24.0ms | Allocations: 9563)


Started GET "/api-docs/index.html" for ::1 at 2023-03-19 21:21:54 +0200
Started GET "/api-docs/swagger-ui.css" for ::1 at 2023-03-19 21:21:54 +0200
Started GET "/api-docs/swagger-ui-bundle.js" for ::1 at 2023-03-19 21:21:54 +0200
Started GET "/api-docs/swagger-ui-standalone-preset.js" for ::1 at 2023-03-19 21:21:54 +0200
Started GET "/api-docs/v1/swagger.yaml" for ::1 at 2023-03-19 21:21:54 +0200
Started GET "/api-docs/favicon-32x32.png" for ::1 at 2023-03-19 21:21:54 +0200
Started GET "/api-docs/favicon-16x16.png" for ::1 at 2023-03-19 21:21:54 +0200
Started GET "/api/v1/tasks/1/" for 127.0.0.1 at 2023-03-19 21:22:36 +0200
  
ArgumentError (Unknown key: :as. Valid keys are: :class_name, :anonymous_class, :primary_key, :foreign_key, :dependent, :validate, :inverse_of, :strict_loading, :autosave, :required, :touch, :polymorphic, :counter_cache, :optional, :default):
  
app/models/task.rb:37:in `<class:Task>'
app/models/task.rb:34:in `<main>'
Started GET "/api/v1/tasks/" for 127.0.0.1 at 2023-03-19 21:22:43 +0200
  
ArgumentError (Unknown key: :as. Valid keys are: :class_name, :anonymous_class, :primary_key, :foreign_key, :dependent, :validate, :inverse_of, :strict_loading, :autosave, :required, :touch, :polymorphic, :counter_cache, :optional, :default):
  
app/models/task.rb:37:in `<class:Task>'
app/models/task.rb:34:in `<main>'
Started GET "/api/v1/tasks/" for 127.0.0.1 at 2023-03-19 21:24:17 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ArgumentError (Unknown validator: 'OptionalValidator'):
  
app/models/task.rb:52:in `<class:Task>'
app/models/task.rb:34:in `<main>'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/tasks/" for 127.0.0.1 at 2023-03-19 21:25:28 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ArgumentError (Unknown validator: 'OptionalValidator'):
  
app/models/task.rb:52:in `<class:Task>'
app/models/task.rb:34:in `<main>'
Started GET "/api/v1/tasks/" for 127.0.0.1 at 2023-03-19 21:25:33 +0200
Processing by Api::V1::TasksController#index as */*
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 1490)


  
ArgumentError (You tried to define an enum named "priority" on the model "Task", but this will generate a instance method "lowest?", which is already defined by another enum.):
  
app/models/task.rb:42:in `<class:Task>'
app/models/task.rb:34:in `<main>'
app/controllers/api/v1/tasks_controller.rb:42:in `set_tasks'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/tasks/" for 127.0.0.1 at 2023-03-19 21:31:19 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::TasksController#index as */*
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 4532)


  
ArgumentError (Unknown validator: 'OptionalValidator'):
  
app/models/task.rb:52:in `<class:Task>'
app/models/task.rb:34:in `<main>'
app/controllers/api/v1/tasks_controller.rb:42:in `set_tasks'
Started GET "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:31:55 +0200
Processing by Api::V1::TasksController#index as */*
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 2491)


  
ArgumentError (You tried to define an enum named "priority" on the model "Task", but this will generate a instance method "low?", which is already defined by another enum.):
  
app/models/task.rb:42:in `<class:Task>'
app/models/task.rb:34:in `<main>'
app/controllers/api/v1/tasks_controller.rb:42:in `set_tasks'
Started GET "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:32:01 +0200
Processing by Api::V1::TasksController#index as */*
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1372)


  
ArgumentError (You tried to define an enum named "priority" on the model "Task", but this will generate a instance method "low?", which is already defined by another enum.):
  
app/models/task.rb:42:in `<class:Task>'
app/models/task.rb:34:in `<main>'
app/controllers/api/v1/tasks_controller.rb:42:in `set_tasks'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:32:32 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::TasksController#index as */*
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 3549)


  
ArgumentError (Unknown validator: 'OptionalValidator'):
  
app/models/task.rb:52:in `<class:Task>'
app/models/task.rb:34:in `<main>'
app/controllers/api/v1/tasks_controller.rb:42:in `set_tasks'
Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:34:14 +0200
  
ArgumentError (Unknown validator: 'OptionalValidator'):
  
app/models/task.rb:52:in `<class:Task>'
app/models/task.rb:34:in `<main>'
Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:34:29 +0200
  
ArgumentError (Unknown validator: 'OptionalValidator'):
  
app/models/task.rb:52:in `<class:Task>'
app/models/task.rb:34:in `<main>'
Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:34:59 +0200
  
ArgumentError (Unknown validator: 'OptionalValidator'):
  
app/models/task.rb:52:in `<class:Task>'
app/models/task.rb:34:in `<main>'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:35:30 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ArgumentError (Unknown validator: 'OptionalValidator'):
  
app/models/task.rb:52:in `<class:Task>'
app/models/task.rb:34:in `<main>'
Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:35:51 +0200
  
ArgumentError (Unknown validator: 'DateValidator'):
  
app/models/task.rb:53:in `<class:Task>'
app/models/task.rb:34:in `<main>'
Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:36:07 +0200
  
ArgumentError (Unknown validator: 'DatetimeValidator'):
  
app/models/task.rb:55:in `<class:Task>'
app/models/task.rb:34:in `<main>'
Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:36:15 +0200
Processing by Api::V1::TasksController#create as */*
  Parameters: {"task"=>{"status"=>0, "type"=>0, "user_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}}
Completed 500 Internal Server Error in 16ms (ActiveRecord: 10.3ms | Allocations: 3352)


  
ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: '0'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite Task.inheritance_column to use another column for that information.):
  
app/controllers/api/v1/tasks_controller.rb:14:in `create'
Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:36:49 +0200
Processing by Api::V1::TasksController#create as */*
  Parameters: {"task"=>{"status"=>0, "type"=>0, "user_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 1.6ms | Allocations: 1400)


  
ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: 'task'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite Task.inheritance_column to use another column for that information.):
  
app/controllers/api/v1/tasks_controller.rb:14:in `create'
Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:37:19 +0200
Processing by Api::V1::TasksController#create as */*
  Parameters: {"task"=>{"status"=>0, "type"=>"task", "user_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 194)


  
ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: 'task'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite Task.inheritance_column to use another column for that information.):
  
app/controllers/api/v1/tasks_controller.rb:14:in `create'
Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:37:26 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::TasksController#create as */*
  Parameters: {"task"=>{"status"=>0, "type"=>"task", "user_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 1.8ms | Allocations: 3799)


  
ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: 'task'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite Task.inheritance_column to use another column for that information.):
  
app/controllers/api/v1/tasks_controller.rb:14:in `create'
Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:38:09 +0200
Processing by Api::V1::TasksController#create as */*
  Parameters: {"task"=>{"status"=>0, "type"=>"task", "user_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}}
[31mUnpermitted parameter: :type. Context: { controller: Api::V1::TasksController, action: create, request: #<ActionDispatch::Request:0x000000011845fb50>, params: {"task"=>{"status"=>0, "type"=>"task", "user_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}, "controller"=>"api/v1/tasks", "action"=>"create"} }[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 5.8ms | Allocations: 1558)


  
ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: '0'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite Task.inheritance_column to use another column for that information.):
  
app/controllers/api/v1/tasks_controller.rb:14:in `create'
Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:38:17 +0200
Processing by Api::V1::TasksController#create as */*
  Parameters: {"task"=>{"status"=>0, "user_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 197)


  
ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: '0'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite Task.inheritance_column to use another column for that information.):
  
app/controllers/api/v1/tasks_controller.rb:14:in `create'
Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:38:24 +0200
Processing by Api::V1::TasksController#create as */*
  Parameters: {"task"=>{"user_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 192)


  
ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: '0'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite Task.inheritance_column to use another column for that information.):
  
app/controllers/api/v1/tasks_controller.rb:14:in `create'
Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:38:37 +0200
Processing by Api::V1::TasksController#create as */*
  Parameters: {"task"=>{"user_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 3.2ms | Allocations: 1391)


  
ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: '0'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite Task.inheritance_column to use another column for that information.):
  
app/controllers/api/v1/tasks_controller.rb:14:in `create'
Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:38:51 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::TasksController#create as */*
  Parameters: {"task"=>{"user_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}}
Completed 500 Internal Server Error in 13ms (ActiveRecord: 9.2ms | Allocations: 3838)


  
ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: '0'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite Task.inheritance_column to use another column for that information.):
  
app/controllers/api/v1/tasks_controller.rb:14:in `create'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:40:27 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::TasksController#create as */*
  Parameters: {"task"=>{"user_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 2.1ms | Allocations: 3910)


  
ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: '0'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite Task.inheritance_column to use another column for that information.):
  
app/controllers/api/v1/tasks_controller.rb:15:in `create'
  [1m[36mActiveRecord::SchemaMigration Pluck (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (37.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mini_jira_development"[0m
  [1m[35m (19.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mini_jira_test"[0m
  [1m[35m (114.1ms)[0m  [1m[35mCREATE DATABASE "mini_jira_development" ENCODING = 'unicode'[0m
  [1m[35m (37.8ms)[0m  [1m[35mCREATE DATABASE "mini_jira_test" ENCODING = 'unicode'[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230309122551)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230309122551"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTasks (20230309184537)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "tasks" ("id" bigserial primary key, "title" text, "description" character varying, "priority" integer DEFAULT 0, "status" integer DEFAULT 0, "label" text, "estimate" timestamp(6), "start" date, "end" date, "assignee_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230309184537"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateComments (20230309185456)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "comments" ("id" bigserial primary key, "body" character varying, "task_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_6bd05453df"
FOREIGN KEY ("task_id")
  REFERENCES "tasks" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_comments_on_task_id" ON "comments" ("task_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230309185456"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProjects (20230310144341)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "projects" ("id" bigserial primary key, "name" character varying, "status" integer DEFAULT 0, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b872a6760a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_projects_on_user_id" ON "projects" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230310144341"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDesks (20230310150440)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "desks" ("id" bigserial primary key, "name" character varying, "project_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d692808753"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_desks_on_project_id" ON "desks" ("project_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230310150440"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReferencesToComments (20230311073948)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "comments" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (4.9ms)[0m  [1m[35mALTER TABLE "comments" ADD CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311073948"]]
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReferencesToTasks (20230311074920)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "tasks" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_user_id" ON "tasks" ("user_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_4d2a9e4d7e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "tasks" ADD "project_id" bigint NOT NULL[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_project_id" ON "tasks" ("project_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_02e851e3b7"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "tasks" ADD "desk_id" bigint NOT NULL[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_desk_id" ON "tasks" ("desk_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_0264244f46"
FOREIGN KEY ("desk_id")
  REFERENCES "desks" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311074920"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTypeToTasks (20230311094822)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "tasks" ADD "type" integer DEFAULT 0[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311094822"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20230311153803)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311153803"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCommentableToComments (20230312105215)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "comments" ADD "commentable_type" character varying NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "comments" ADD "commentable_id" bigint NOT NULL[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230312105215"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateColumns (20230312111331)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "columns" ("id" bigserial primary key, "name" text, "columnable_type" character varying NOT NULL, "columnable_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_columns_on_columnable" ON "columns" ("columnable_type", "columnable_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230312111331"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPasswordResetColumnsToUser (20230315155835)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_sent_at" timestamp(6)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230315155835"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-03-19 19:40:59.802160"], ["updated_at", "2023-03-19 19:40:59.802160"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:41:15 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (2.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::TasksController#create as */*
  Parameters: {"task"=>{"user_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 3.1ms | Allocations: 3911)


  
ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: '0'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite Task.inheritance_column to use another column for that information.):
  
app/controllers/api/v1/tasks_controller.rb:15:in `create'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddPasswordResetColumnsToUser (20230315155835)
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "users" DROP COLUMN "reset_password_sent_at"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" DROP COLUMN "reset_password_token"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20230315155835"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateColumns (20230312111331)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[35mDROP TABLE "columns"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20230312111331"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCommentableToComments (20230312105215)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "comments" DROP COLUMN "commentable_id"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "comments" DROP COLUMN "commentable_type"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20230312105215"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20230311153803)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" DROP COLUMN "email"[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" DROP COLUMN "last_name"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20230311153803"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTypeToTasks (20230311094822)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "tasks" DROP COLUMN "type"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20230311094822"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReferencesToTasks (20230311074920)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "tasks" DROP CONSTRAINT "fk_rails_0264244f46"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "tasks" DROP COLUMN "desk_id"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "tasks" DROP CONSTRAINT "fk_rails_02e851e3b7"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "tasks" DROP COLUMN "project_id"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "tasks" DROP CONSTRAINT "fk_rails_4d2a9e4d7e"[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "tasks" DROP COLUMN "user_id"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20230311074920"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReferencesToComments (20230311073948)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "comments" DROP CONSTRAINT "fk_rails_03de2dc08c"[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "comments" DROP COLUMN "user_id"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20230311073948"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDesks (20230310150440)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mDROP TABLE "desks"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20230310150440"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProjects (20230310144341)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "projects"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20230310144341"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateComments (20230309185456)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "comments"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20230309185456"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTasks (20230309184537)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "tasks"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.8ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20230309184537"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20230309122551)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Delete All (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20230309122551"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230309122551)
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230309122551"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTasks (20230309184537)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "tasks" ("id" bigserial primary key, "title" text, "description" character varying, "priority" integer DEFAULT 0, "status" integer DEFAULT 0, "label" text, "estimate" timestamp(6), "start" date, "end" date, "assignee_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230309184537"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateComments (20230309185456)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "comments" ("id" bigserial primary key, "body" character varying, "task_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_6bd05453df"
FOREIGN KEY ("task_id")
  REFERENCES "tasks" ("id")
)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_comments_on_task_id" ON "comments" ("task_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230309185456"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProjects (20230310144341)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "projects" ("id" bigserial primary key, "name" character varying, "status" integer DEFAULT 0, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b872a6760a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE INDEX "index_projects_on_user_id" ON "projects" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230310144341"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDesks (20230310150440)
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "desks" ("id" bigserial primary key, "name" character varying, "project_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d692808753"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_desks_on_project_id" ON "desks" ("project_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230310150440"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReferencesToComments (20230311073948)
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "comments" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "comments" ADD CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311073948"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReferencesToTasks (20230311074920)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "tasks" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_user_id" ON "tasks" ("user_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_4d2a9e4d7e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "tasks" ADD "project_id" bigint NOT NULL[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_project_id" ON "tasks" ("project_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_02e851e3b7"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "tasks" ADD "desk_id" bigint NOT NULL[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_desk_id" ON "tasks" ("desk_id")[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_0264244f46"
FOREIGN KEY ("desk_id")
  REFERENCES "desks" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311074920"]]
  [1m[36mTRANSACTION (14.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTypeToTasks (20230311094822)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311094822"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20230311153803)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311153803"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCommentableToComments (20230312105215)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "comments" ADD "commentable_type" character varying NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "comments" ADD "commentable_id" bigint NOT NULL[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230312105215"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateColumns (20230312111331)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "columns" ("id" bigserial primary key, "name" text, "columnable_type" character varying NOT NULL, "columnable_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_columns_on_columnable" ON "columns" ("columnable_type", "columnable_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230312111331"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPasswordResetColumnsToUser (20230315155835)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_sent_at" timestamp(6)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230315155835"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (3.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:42:49 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::TasksController#create as */*
  Parameters: {"task"=>{"user_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}}
  [1m[36mTRANSACTION (11.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mProject Load (0.7ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mUser Load (10.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mTRANSACTION (13.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
Completed 422 Unprocessable Entity in 76ms (Views: 3.4ms | ActiveRecord: 51.9ms | Allocations: 25464)


Started GET "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:42:57 +0200
Processing by Api::V1::TasksController#index as */*
  Parameters: {"task"=>{"user_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}}
  [1m[36mTask Load (1.0ms)[0m  [1m[34mSELECT "tasks".* FROM "tasks"[0m
  ↳ app/controllers/api/v1/tasks_controller.rb:7:in `index'
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 1.0ms | Allocations: 873)


Started POST "/api/v1/users" for 127.0.0.1 at 2023-03-19 21:44:01 +0200
Processing by Api::V1::UsersController#create as */*
  Parameters: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}}
[31mUnpermitted parameter: :user. Context: { controller: Api::V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00000001136b7218>, params: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "controller"=>"api/v1/users", "action"=>"create", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}} }[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mmm@mail.ru"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "last_name", "email", "reset_password_token", "reset_password_sent_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Sergio2"], ["password_digest", "[FILTERED]"], ["created_at", "2023-03-19 19:44:01.998503"], ["updated_at", "2023-03-19 19:44:01.998503"], ["last_name", "Sergio2"], ["email", "mmm@mail.ru"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"]]
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
Completed 200 OK in 267ms (Views: 0.1ms | ActiveRecord: 3.7ms | Allocations: 8177)


Started POST "/api/v1/projects" for 127.0.0.1 at 2023-03-19 21:44:15 +0200
Processing by Api::V1::ProjectsController#create as */*
  Parameters: {"project"=>{"user_id"=>1, "name"=>"project", "status"=>0}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
  [1m[36mProject Create (1.3ms)[0m  [1m[32mINSERT INTO "projects" ("name", "status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "project"], ["status", 0], ["user_id", 1], ["created_at", "2023-03-19 19:44:15.264214"], ["updated_at", "2023-03-19 19:44:15.264214"]]
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
Completed 201 Created in 12ms (Views: 0.2ms | ActiveRecord: 3.5ms | Allocations: 5235)


Started POST "/api/v1/projects" for 127.0.0.1 at 2023-03-19 21:44:22 +0200
Processing by Api::V1::ProjectsController#create as */*
  Parameters: {"project"=>{"user_id"=>1, "name"=>"project", "status"=>0}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
  [1m[36mProject Create (0.7ms)[0m  [1m[32mINSERT INTO "projects" ("name", "status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "project"], ["status", 0], ["user_id", 1], ["created_at", "2023-03-19 19:44:22.774080"], ["updated_at", "2023-03-19 19:44:22.774080"]]
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
Completed 201 Created in 15ms (Views: 0.1ms | ActiveRecord: 2.8ms | Allocations: 2979)


Started POST "/api/v1/desks" for 127.0.0.1 at 2023-03-19 21:44:32 +0200
Processing by Api::V1::DesksController#create as */*
  Parameters: {"desk"=>{"project_id"=>1, "name"=>"project"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mDesk Create (2.7ms)[0m  [1m[32mINSERT INTO "desks" ("name", "project_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "project"], ["project_id", 1], ["created_at", "2023-03-19 19:44:32.471769"], ["updated_at", "2023-03-19 19:44:32.471769"]]
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
Completed 201 Created in 16ms (Views: 0.2ms | ActiveRecord: 10.3ms | Allocations: 5578)


Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:44:41 +0200
Processing by Api::V1::TasksController#create as */*
  Parameters: {"task"=>{"user_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mProject Load (0.7ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
Completed 422 Unprocessable Entity in 30ms (Views: 0.9ms | ActiveRecord: 2.0ms | Allocations: 4114)


Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:45:20 +0200
Processing by Api::V1::TasksController#create as */*
  Parameters: {"task"=>{"user_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mProject Load (0.4ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
Completed 422 Unprocessable Entity in 27ms (Views: 0.6ms | ActiveRecord: 12.3ms | Allocations: 17457)


Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:46:22 +0200
Processing by Api::V1::TasksController#create as */*
  Parameters: {"task"=>{"user_id"=>1, "desk_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mDesk Load (0.3ms)[0m  [1m[34mSELECT "desks".* FROM "desks" WHERE "desks"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
Completed 422 Unprocessable Entity in 105ms (Views: 0.6ms | ActiveRecord: 38.4ms | Allocations: 20046)


Started POST "/api/v1/columns" for 127.0.0.1 at 2023-03-19 21:46:51 +0200
Processing by Api::V1::ColumnsController#create as */*
  Parameters: {"column"=>{"columnable_id"=>1, "name"=>"project", "columnable_type"=>"Desk"}}
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/columns_controller.rb:16:in `create'
  [1m[36mDesk Load (0.6ms)[0m  [1m[34mSELECT "desks".* FROM "desks" WHERE "desks"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/columns_controller.rb:16:in `create'
  [1m[36mColumn Create (3.3ms)[0m  [1m[32mINSERT INTO "columns" ("name", "columnable_type", "columnable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "project"], ["columnable_type", "Desk"], ["columnable_id", 1], ["created_at", "2023-03-19 19:46:51.779104"], ["updated_at", "2023-03-19 19:46:51.779104"]]
  ↳ app/controllers/api/v1/columns_controller.rb:16:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/columns_controller.rb:16:in `create'
Completed 200 OK in 41ms (Views: 0.5ms | ActiveRecord: 22.5ms | Allocations: 6405)


Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:46:58 +0200
Processing by Api::V1::TasksController#create as */*
  Parameters: {"task"=>{"user_id"=>1, "desk_id"=>1, "column_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}}
[31mUnpermitted parameter: :column_id. Context: { controller: Api::V1::TasksController, action: create, request: #<ActionDispatch::Request:0x00000001122dfa38>, params: {"task"=>{"user_id"=>1, "desk_id"=>1, "column_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}, "controller"=>"api/v1/tasks", "action"=>"create"} }[0m
[31mUnpermitted parameter: :column_id. Context: { controller: Api::V1::TasksController, action: create, request: #<ActionDispatch::Request:0x00000001122dfa38>, params: {"task"=>{"user_id"=>1, "desk_id"=>1, "column_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}, "controller"=>"api/v1/tasks", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mProject Load (4.1ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mDesk Load (0.2ms)[0m  [1m[34mSELECT "desks".* FROM "desks" WHERE "desks"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
Completed 422 Unprocessable Entity in 14ms (Views: 0.3ms | ActiveRecord: 6.1ms | Allocations: 4540)


Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:47:10 +0200
Processing by Api::V1::TasksController#create as */*
  Parameters: {"task"=>{"user_id"=>1, "desk_id"=>1, "column_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}}
Completed 500 Internal Server Error in 16ms (ActiveRecord: 10.9ms | Allocations: 4932)


  
ActiveModel::UnknownAttributeError (unknown attribute 'column_id' for Task.

          raise UnknownAttributeError.new(self, k.to_s)
          ^^^^^):
  
app/controllers/api/v1/tasks_controller.rb:15:in `create'
Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:47:43 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

You have 1 pending migration:

20230319194737_add_columns_ref_to_desk.rb


):
  
activerecord (7.0.4.2) lib/active_record/migration.rb:627:in `check_pending!'
activerecord (7.0.4.2) lib/active_record/migration.rb:592:in `block (2 levels) in call'
activesupport (7.0.4.2) lib/active_support/file_update_checker.rb:83:in `execute'
activerecord (7.0.4.2) lib/active_record/migration.rb:597:in `block in call'
activerecord (7.0.4.2) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.4.2) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4.2) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4.2) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4.2) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4.2) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4.2) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4.2) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4.2) lib/rails/rack/logger.rb:25:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.6.2) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4.2) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.6.2) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4.2) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4.2) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddColumnsRefToDesk (20230319194737)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "desks" ADD "columnable_type" character varying NOT NULL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (32.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mini_jira_development"[0m
  [1m[35m (16.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mini_jira_test"[0m
  [1m[35m (130.4ms)[0m  [1m[35mCREATE DATABASE "mini_jira_development" ENCODING = 'unicode'[0m
  [1m[35m (37.3ms)[0m  [1m[35mCREATE DATABASE "mini_jira_test" ENCODING = 'unicode'[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230309122551)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230309122551"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTasks (20230309184537)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "tasks" ("id" bigserial primary key, "title" text, "description" character varying, "priority" integer DEFAULT 0, "status" integer DEFAULT 0, "label" text, "estimate" timestamp(6), "start" date, "end" date, "assignee_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230309184537"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateComments (20230309185456)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "comments" ("id" bigserial primary key, "body" character varying, "task_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_6bd05453df"
FOREIGN KEY ("task_id")
  REFERENCES "tasks" ("id")
)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_comments_on_task_id" ON "comments" ("task_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230309185456"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProjects (20230310144341)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "projects" ("id" bigserial primary key, "name" character varying, "status" integer DEFAULT 0, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b872a6760a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_projects_on_user_id" ON "projects" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230310144341"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDesks (20230310150440)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "desks" ("id" bigserial primary key, "name" character varying, "project_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d692808753"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_desks_on_project_id" ON "desks" ("project_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230310150440"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReferencesToComments (20230311073948)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "comments" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "comments" ADD CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311073948"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReferencesToTasks (20230311074920)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "tasks" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_user_id" ON "tasks" ("user_id")[0m
  [1m[35m (6.8ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_4d2a9e4d7e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "tasks" ADD "project_id" bigint NOT NULL[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_project_id" ON "tasks" ("project_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_02e851e3b7"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "tasks" ADD "desk_id" bigint NOT NULL[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_desk_id" ON "tasks" ("desk_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_0264244f46"
FOREIGN KEY ("desk_id")
  REFERENCES "desks" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311074920"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTypeToTasks (20230311094822)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311094822"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20230311153803)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311153803"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCommentableToComments (20230312105215)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "comments" ADD "commentable_type" character varying NOT NULL[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "comments" ADD "commentable_id" bigint NOT NULL[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230312105215"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateColumns (20230312111331)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (31.8ms)[0m  [1m[35mCREATE TABLE "columns" ("id" bigserial primary key, "name" text, "columnable_type" character varying NOT NULL, "columnable_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_columns_on_columnable" ON "columns" ("columnable_type", "columnable_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230312111331"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPasswordResetColumnsToUser (20230315155835)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_sent_at" timestamp(6)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230315155835"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnsRefToDesk (20230319194737)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "desks" ADD "columnable_type" character varying NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "desks" ADD "columnable_id" bigint NOT NULL[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_desks_on_columnable" ON "desks" ("columnable_type", "columnable_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230319194737"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-03-19 19:48:41.287357"], ["updated_at", "2023-03-19 19:48:41.287357"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/users" for 127.0.0.1 at 2023-03-19 21:48:55 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (2.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#create as */*
  Parameters: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}}
[31mUnpermitted parameter: :user. Context: { controller: Api::V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00000001066c3430>, params: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "controller"=>"api/v1/users", "action"=>"create", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}} }[0m
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mmm@mail.ru"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "last_name", "email", "reset_password_token", "reset_password_sent_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Sergio2"], ["password_digest", "[FILTERED]"], ["created_at", "2023-03-19 19:48:56.275521"], ["updated_at", "2023-03-19 19:48:56.275521"], ["last_name", "Sergio2"], ["email", "mmm@mail.ru"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"]]
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
Completed 200 OK in 270ms (Views: 0.2ms | ActiveRecord: 16.8ms | Allocations: 12340)


Started POST "/api/v1/projects" for 127.0.0.1 at 2023-03-19 21:49:03 +0200
Processing by Api::V1::ProjectsController#create as */*
  Parameters: {"project"=>{"user_id"=>1, "name"=>"project", "status"=>0}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
  [1m[36mProject Create (5.5ms)[0m  [1m[32mINSERT INTO "projects" ("name", "status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "project"], ["status", 0], ["user_id", 1], ["created_at", "2023-03-19 19:49:04.015542"], ["updated_at", "2023-03-19 19:49:04.015542"]]
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
Completed 201 Created in 20ms (Views: 0.2ms | ActiveRecord: 12.8ms | Allocations: 7895)


Started POST "/api/v1/desks" for 127.0.0.1 at 2023-03-19 21:49:11 +0200
Processing by Api::V1::DesksController#create as */*
  Parameters: {"desk"=>{"project_id"=>1, "name"=>"project"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mDesk Create (2.7ms)[0m  [1m[32mINSERT INTO "desks" ("name", "project_id", "created_at", "updated_at", "columnable_type", "columnable_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "project"], ["project_id", 1], ["created_at", "2023-03-19 19:49:11.218922"], ["updated_at", "2023-03-19 19:49:11.218922"], ["columnable_type", nil], ["columnable_id", nil]]
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 6.6ms | Allocations: 7263)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "columnable_type" of relation "desks" violates not-null constraint
DETAIL:  Failing row contains (1, project, 1, 2023-03-19 19:49:11.218922, 2023-03-19 19:49:11.218922, null, null).
):
  
app/controllers/api/v1/desks_controller.rb:15:in `create'
Started POST "/api/v1/desks" for 127.0.0.1 at 2023-03-19 21:49:44 +0200
Processing by Api::V1::DesksController#create as */*
  Parameters: {"desk"=>{"project_id"=>1, "name"=>"project"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mProject Load (4.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mDesk Create (0.7ms)[0m  [1m[32mINSERT INTO "desks" ("name", "project_id", "created_at", "updated_at", "columnable_type", "columnable_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "project"], ["project_id", 1], ["created_at", "2023-03-19 19:49:44.702793"], ["updated_at", "2023-03-19 19:49:44.702793"], ["columnable_type", nil], ["columnable_id", nil]]
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 5.3ms | Allocations: 3005)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "columnable_type" of relation "desks" violates not-null constraint
DETAIL:  Failing row contains (2, project, 1, 2023-03-19 19:49:44.702793, 2023-03-19 19:49:44.702793, null, null).
):
  
app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/desks" for 127.0.0.1 at 2023-03-19 21:52:17 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::DesksController#create as */*
  Parameters: {"desk"=>{"project_id"=>1, "name"=>"project"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mProject Load (0.5ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mDesk Create (2.4ms)[0m  [1m[32mINSERT INTO "desks" ("name", "project_id", "created_at", "updated_at", "columnable_type", "columnable_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "project"], ["project_id", 1], ["created_at", "2023-03-19 19:52:17.491735"], ["updated_at", "2023-03-19 19:52:17.491735"], ["columnable_type", nil], ["columnable_id", nil]]
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
Completed 500 Internal Server Error in 52ms (ActiveRecord: 34.3ms | Allocations: 17080)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "columnable_type" of relation "desks" violates not-null constraint
DETAIL:  Failing row contains (3, project, 1, 2023-03-19 19:52:17.491735, 2023-03-19 19:52:17.491735, null, null).
):
  
app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (1.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (33.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mini_jira_development"[0m
  [1m[35m (19.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mini_jira_test"[0m
  [1m[35m (134.8ms)[0m  [1m[35mCREATE DATABASE "mini_jira_development" ENCODING = 'unicode'[0m
  [1m[35m (38.6ms)[0m  [1m[35mCREATE DATABASE "mini_jira_test" ENCODING = 'unicode'[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20230309122551)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230309122551"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTasks (20230309184537)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "tasks" ("id" bigserial primary key, "title" text, "description" character varying, "priority" integer DEFAULT 0, "status" integer DEFAULT 0, "label" text, "estimate" timestamp(6), "start" date, "end" date, "assignee_id" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230309184537"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateComments (20230309185456)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.6ms)[0m  [1m[35mCREATE TABLE "comments" ("id" bigserial primary key, "body" character varying, "task_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_6bd05453df"
FOREIGN KEY ("task_id")
  REFERENCES "tasks" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_comments_on_task_id" ON "comments" ("task_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230309185456"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProjects (20230310144341)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "projects" ("id" bigserial primary key, "name" character varying, "status" integer DEFAULT 0, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b872a6760a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_projects_on_user_id" ON "projects" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230310144341"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDesks (20230310150440)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "desks" ("id" bigserial primary key, "name" character varying, "project_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d692808753"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_desks_on_project_id" ON "desks" ("project_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230310150440"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReferencesToComments (20230311073948)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "comments" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_comments_on_user_id" ON "comments" ("user_id")[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "comments" ADD CONSTRAINT "fk_rails_03de2dc08c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311073948"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReferencesToTasks (20230311074920)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "tasks" ADD "user_id" bigint NOT NULL[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_user_id" ON "tasks" ("user_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_4d2a9e4d7e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "tasks" ADD "project_id" bigint NOT NULL[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_project_id" ON "tasks" ("project_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_02e851e3b7"
FOREIGN KEY ("project_id")
  REFERENCES "projects" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "tasks" ADD "desk_id" bigint NOT NULL[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_tasks_on_desk_id" ON "tasks" ("desk_id")[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "tasks" ADD CONSTRAINT "fk_rails_0264244f46"
FOREIGN KEY ("desk_id")
  REFERENCES "desks" ("id")
[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311074920"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTypeToTasks (20230311094822)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311094822"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDetailsToUser (20230311153803)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mALTER TABLE "users" ADD "last_name" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230311153803"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCommentableToComments (20230312105215)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "comments" ADD "commentable_type" character varying NOT NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "comments" ADD "commentable_id" bigint NOT NULL[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE INDEX "index_comments_on_commentable" ON "comments" ("commentable_type", "commentable_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230312105215"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateColumns (20230312111331)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "columns" ("id" bigserial primary key, "name" text, "columnable_type" character varying NOT NULL, "columnable_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_columns_on_columnable" ON "columns" ("columnable_type", "columnable_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230312111331"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPasswordResetColumnsToUser (20230315155835)
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_token" character varying[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "users" ADD "reset_password_sent_at" timestamp(6)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20230315155835"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-03-19 19:52:39.971566"], ["updated_at", "2023-03-19 19:52:39.971566"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(8459554082307986700)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/desks" for 127.0.0.1 at 2023-03-19 21:52:47 +0200
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::DesksController#create as */*
  Parameters: {"desk"=>{"project_id"=>1, "name"=>"project"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mProject Load (0.6ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
Completed 422 Unprocessable Entity in 30ms (Views: 2.4ms | ActiveRecord: 15.3ms | Allocations: 14204)


Started POST "/api/v1/users" for 127.0.0.1 at 2023-03-19 21:52:57 +0200
Processing by Api::V1::UsersController#create as */*
  Parameters: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}}
[31mUnpermitted parameter: :user. Context: { controller: Api::V1::UsersController, action: create, request: #<ActionDispatch::Request:0x0000000116635f80>, params: {"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru", "password"=>"[FILTERED]", "controller"=>"api/v1/users", "action"=>"create", "user"=>{"name"=>"Sergio2", "last_name"=>"Sergio2", "email"=>"mmm@mail.ru"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mmm@mail.ru"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mUser Create (2.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at", "last_name", "email", "reset_password_token", "reset_password_sent_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Sergio2"], ["password_digest", "[FILTERED]"], ["created_at", "2023-03-19 19:52:57.820873"], ["updated_at", "2023-03-19 19:52:57.820873"], ["last_name", "Sergio2"], ["email", "mmm@mail.ru"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"]]
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/users_controller.rb:19:in `create'
Completed 200 OK in 271ms (Views: 0.1ms | ActiveRecord: 11.4ms | Allocations: 8029)


Started POST "/api/v1/projects" for 127.0.0.1 at 2023-03-19 21:52:59 +0200
Processing by Api::V1::ProjectsController#create as */*
  Parameters: {"project"=>{"user_id"=>1, "name"=>"project", "status"=>0}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
  [1m[36mProject Create (10.4ms)[0m  [1m[32mINSERT INTO "projects" ("name", "status", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "project"], ["status", 0], ["user_id", 1], ["created_at", "2023-03-19 19:53:00.024223"], ["updated_at", "2023-03-19 19:53:00.024223"]]
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/projects_controller.rb:17:in `create'
Completed 201 Created in 29ms (Views: 0.2ms | ActiveRecord: 11.2ms | Allocations: 6163)


Started POST "/api/v1/desks" for 127.0.0.1 at 2023-03-19 21:53:03 +0200
Processing by Api::V1::DesksController#create as */*
  Parameters: {"desk"=>{"project_id"=>1, "name"=>"project"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mProject Load (0.3ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mDesk Create (5.1ms)[0m  [1m[32mINSERT INTO "desks" ("name", "project_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "project"], ["project_id", 1], ["created_at", "2023-03-19 19:53:03.175984"], ["updated_at", "2023-03-19 19:53:03.175984"]]
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/desks_controller.rb:15:in `create'
Completed 201 Created in 15ms (Views: 0.2ms | ActiveRecord: 7.2ms | Allocations: 3237)


Started POST "/api/v1/columns" for 127.0.0.1 at 2023-03-19 21:53:15 +0200
Processing by Api::V1::ColumnsController#create as */*
  Parameters: {"column"=>{"columnable_id"=>1, "name"=>"project", "columnable_type"=>"Desk"}}
  [1m[36mTRANSACTION (21.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/columns_controller.rb:16:in `create'
  [1m[36mDesk Load (0.4ms)[0m  [1m[34mSELECT "desks".* FROM "desks" WHERE "desks"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/columns_controller.rb:16:in `create'
  [1m[36mColumn Create (8.8ms)[0m  [1m[32mINSERT INTO "columns" ("name", "columnable_type", "columnable_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "project"], ["columnable_type", "Desk"], ["columnable_id", 1], ["created_at", "2023-03-19 19:53:15.467923"], ["updated_at", "2023-03-19 19:53:15.467923"]]
  ↳ app/controllers/api/v1/columns_controller.rb:16:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/columns_controller.rb:16:in `create'
Completed 200 OK in 71ms (Views: 0.3ms | ActiveRecord: 51.5ms | Allocations: 6791)


Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:53:21 +0200
Processing by Api::V1::TasksController#create as */*
  Parameters: {"task"=>{"user_id"=>1, "desk_id"=>1, "column_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}}
Completed 500 Internal Server Error in 13ms (ActiveRecord: 5.8ms | Allocations: 7575)


  
ActiveModel::UnknownAttributeError (unknown attribute 'column_id' for Task.

          raise UnknownAttributeError.new(self, k.to_s)
          ^^^^^):
  
app/controllers/api/v1/tasks_controller.rb:15:in `create'
Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:55:27 +0200
Processing by Api::V1::TasksController#create as */*
  Parameters: {"task"=>{"user_id"=>1, "desk_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mDesk Load (0.2ms)[0m  [1m[34mSELECT "desks".* FROM "desks" WHERE "desks"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
Completed 422 Unprocessable Entity in 47ms (Views: 0.4ms | ActiveRecord: 15.7ms | Allocations: 20192)


Started POST "/api/v1/tasks" for 127.0.0.1 at 2023-03-19 21:55:55 +0200
Processing by Api::V1::TasksController#create as */*
  Parameters: {"task"=>{"user_id"=>1, "desk_id"=>1, "project_id"=>1, "title"=>"project", "description"=>"Desk"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mProject Load (0.2ms)[0m  [1m[34mSELECT "projects".* FROM "projects" WHERE "projects"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mDesk Load (0.2ms)[0m  [1m[34mSELECT "desks".* FROM "desks" WHERE "desks"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mTask Create (4.3ms)[0m  [1m[32mINSERT INTO "tasks" ("title", "description", "priority", "status", "label", "estimate", "start", "end", "assignee_id", "created_at", "updated_at", "user_id", "project_id", "desk_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) RETURNING "id"[0m  [["title", "project"], ["description", "Desk"], ["priority", 0], ["status", 0], ["label", nil], ["estimate", nil], ["start", nil], ["end", nil], ["assignee_id", nil], ["created_at", "2023-03-19 19:55:55.681862"], ["updated_at", "2023-03-19 19:55:55.681862"], ["user_id", 1], ["project_id", 1], ["desk_id", 1]]
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/tasks_controller.rb:17:in `create'
Completed 200 OK in 60ms (Views: 0.2ms | ActiveRecord: 41.9ms | Allocations: 20705)


